{"version":3,"sources":["context/deliver/DeliverReducer.js","context/types.js","context/deliver/DeliverContext.js","firebase.config.js","resources/delivers.js","resources/migrations.js","context/deliver/DeliverState.js","resources/getHours.js","components/H1.jsx","components/User.jsx","components/Loader.jsx","components/UserList.jsx","components/Schedule.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["DeliverReducer","state","action","payload","type","users","user","selected","busy","userKeys","keyTask","DeliverContext","createContext","db","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","delivers","name","segment","avatar","takenFor","migrate","a","map","item","saveDeliver","data","newDeliverRef","collection","doc","set","then","console","log","catch","error","DeliverState","props","useReducer","dispatch","getUsers","get","query","setUsers","e","keys","empty","forEach","push","length","removeUserId","arr","id","indexes","filter","el","pop","setUser","localUser","atob","localStorage","getItem","where","querySnapshot","saveUser","docRef","update","Provider","value","setTaskkey","key","setSelected","val","getBusyUsers","children","setTimes","segments","start","mins","secs","now","Date","i","setMinutes","getMinutes","getHours","slice","startTime","endTime","end","split","t1","t2","setHours","getSeconds","H1","className","User","removeDriver","saveDriver","onClick","handleClick","src","alt","toUpperCase","Loader","style","background","UserList","useContext","useState","freeDrivers","setFreeDrivers","busyDrivers","setBusyDrivers","saving","setSaving","driver","useEffect","free","includes","getDrivers","index","Schedule","times","filterUsers","reduce","acc","handleColor","filteredUsers","mountAvatars","setItem","btoa","uuidv4","handleTask","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uPAsDeA,EA7CQ,SAACC,EAAOC,GAAY,IACjCC,EAAkBD,EAAlBC,QAER,OAF0BD,EAATE,MAGf,ICbqB,YDcnB,OAAO,2BACFH,GADL,IAEEI,MAAOF,IAGX,IClBoB,WDmBlB,OAAO,2BACFF,GADL,IAEEK,KAAMH,IAGV,ICrBwB,eDsBtB,OAAO,2BACFF,GADL,IAEEM,SAAUJ,IAGd,IC5B0B,iBD6BxB,OAAO,2BACFF,GADL,IAEEO,KAAML,IAGV,IChCyB,gBDiCvB,OAAO,2BACFF,GADL,IAEEQ,SAAUN,IAGd,ICrCuB,cDsCrB,OAAO,2BACFF,GADL,IAEES,QAASP,IAGb,QACE,OAAOF,IE9CEU,EAFQC,0B,QCiBRC,G,MAJKC,IAASC,cAZN,CACrBC,OAAQC,0CACRC,WAAYD,8BACZE,YAAaF,qCACbG,UAAWH,cACXI,cAAeJ,0BACfK,kBAAmBL,eACnBM,MAAON,4CACPO,cAAeP,iBAMNH,IAASW,aCjBPC,EAAW,CACtB,CACEC,KAAM,QACNC,QAAS,GACTC,OACE,sJACFC,SAAU,IAEZ,CACEH,KAAM,QACNC,QAAS,GACTC,OACE,sJACFC,SAAU,IAEZ,CACEH,KAAM,QACNC,QAAS,GACTC,OACE,sJACFC,SAAU,IAEZ,CACEH,KAAM,QACNC,QAAS,GACTC,OACE,sJACFC,SAAU,IAEZ,CACEH,KAAM,QACNC,QAAS,GACTC,OACE,sJACFC,SAAU,IAEZ,CACEH,KAAM,QACNC,QAAS,GACTC,OACE,sJACFC,SAAU,IAEZ,CACEH,KAAM,UACNC,QAAS,GACTC,OACE,wJACFC,SAAU,IAEZ,CACEH,KAAM,SACNC,QAAS,GACTC,OACE,uJACFC,SAAU,KCpDRC,EAAO,uCAAG,sBAAAC,EAAA,sDACdN,EAASO,KAAI,SAACC,GAAD,OAAUC,EAAYD,MADrB,2CAAH,qDAIPC,EAAW,uCAAG,WAAOC,GAAP,eAAAJ,EAAA,6DACZK,EAAgBxB,EAAGyB,WAAW,YAAYC,MAD9B,SAGZF,EACHG,IAAIJ,GACJK,MAAK,WACJC,QAAQC,IAAI,qCAEbC,OAAM,SAACC,GACNH,QAAQG,MAAM,2BAA4BA,MAT5B,2CAAH,sDAaFd,I,OCoIAe,EAlJM,SAACC,GACpB,IAD8B,EAUJC,qBAAWhD,EAThB,CACnBK,MAAO,GACPC,KAAM,GACNI,QAAS,KACTH,UAAU,EACVE,SAAU,GACVD,MAAM,IAPsB,mBAUvBP,EAVuB,KAUhBgD,EAVgB,KAYxBC,EAAQ,uCAAG,sBAAAlB,EAAA,sEACTnB,EACHyB,WAAW,YACXa,MACAV,MAAK,SAACW,GACLC,EAASD,MAGVR,OAAM,SAACU,GAAD,OAAOZ,QAAQG,MAAM,QAASS,MARxB,2CAAH,qDAWRD,EAAQ,uCAAG,WAAOjB,GAAP,iBAAAJ,EAAA,sDACX3B,EAAQ,GACRkD,EAAO,GAEXnB,EAAKoB,MACDzB,IACGU,MAAK,kBAAMS,OACXN,OAAM,SAACU,GAAD,OAAOZ,QAAQG,MAAMS,MAC9BlB,EAAKqB,SAAQ,SAACvB,GACZA,EAAKE,OAAOR,QAAQ6B,SAAQ,SAACvB,GAAD,OAAUqB,EAAKG,KAAKxB,MAEhD7B,EAAMqD,KAAKxB,EAAKE,WAGlB/B,EAAMsD,OAAS,IACjBV,EAAS,CACP7C,KAAM,YACND,QAASE,IAEX4C,EAAS,CACP7C,KAAM,gBACND,QAASoD,IAEXN,EAAS,CACP7C,KAAM,eACND,SAAS,KAzBE,2CAAH,sDAmDRyD,EAAe,SAACC,EAAKC,GACzB,IAAIC,EAAU,KAKd,OAJAA,EAAUF,EAAIG,QAAO,SAACC,GAAD,OAASA,IAAOH,EAAKG,EAAK,SAEvCC,MAEDH,GAGHI,EAAO,uCAAG,WAAO/B,EAAMlC,GAAb,eAAA8B,EAAA,sDACRoC,EAAYC,KAAKC,aAAaC,QAAQ,cAD9B,KAGNrE,EAHM,OAIP,SAJO,OASP,WATO,8BAKVkC,EAAKN,SAAS4B,KAAKU,GACnBhC,EAAKR,QAAQ8B,KAAKzD,EAAMS,SANd,mCAUV0B,EAAKR,QAAUQ,EAAKR,QAAQoC,QAAO,SAACC,GAAD,OAAQA,IAAOhE,EAAMS,WACxD0B,EAAKN,SAAW8B,EAAaxB,EAAKN,SAAUsC,GAXlC,kFAkBRvD,EACHyB,WAAW,YACXkC,MAAM,OAAQ,KAAMpC,EAAKT,MACzBwB,MACAV,MAAK,SAACgC,GAAD,OACJA,EAAchB,SAAQ,SAAClB,GAAD,OAASmC,EAASnC,EAAIuB,GAAI1B,SAvBtC,4CAAH,wDA2BPsC,EAAQ,uCAAG,WAAOZ,EAAI1B,GAAX,eAAAJ,EAAA,6DACT2C,EAAS9D,EAAGyB,WAAW,YAAYC,IAAIuB,GAD9B,SAGTa,EACHC,OAAOxC,GACPK,MAAK,kBAAMS,OACXT,MAAK,kBACJQ,EAAS,CACP7C,KAAM,eACND,SAAS,OAGZyC,OAAM,SAACU,GAAD,OAAOZ,QAAQG,MAAMS,MAZf,2CAAH,wDAed,OACE,cAAC,EAAeuB,SAAhB,CACEC,MAAO,CACLzE,MAAOJ,EAAMI,MACbC,KAAML,EAAMK,KACZC,SAAUN,EAAMM,SAChBC,KAAMP,EAAMO,KACZE,QAAST,EAAMS,QACfD,SAAUR,EAAMQ,SAChByC,WACA6B,WApEa,SAACC,GAClB/B,EAAS,CACP7C,KAAM,cACND,QAAS6E,KAkEPb,UACAc,YA7Ec,SAACC,GACnBjC,EAAS,CACP7C,KAAM,eACND,QAAS+E,KA2EPC,aArFe,SAACD,GACpBjC,EAAS,CACP7C,KAAM,iBACND,QAAS+E,MAsEX,SAeGnC,EAAMqC,YC/HPC,EAAW,SAACC,EAAUC,EAAOC,EAAMC,GAKvC,IAJA,IAAI5B,EAAM,GAEN6B,EAAM,IAAIC,KAAJ,qBAAuBJ,EAAvB,YAAgCC,EAAhC,YAAwCC,IAEzCG,EAAI,EAAGA,EAAIN,EAAUM,IACtB,IAANA,EACIF,EAAIG,WAAWH,EAAII,cACnBJ,EAAIG,WAAWH,EAAII,aAAe,IAEtCjC,EAAIH,KAAKgC,EAAIK,WAAa,KAAO,KAAOL,EAAII,cAAcE,OAAO,IAGnE,OAAOnC,GAGMkC,EApCE,SAACE,EAAWC,GAC3B,IAAMC,EAAMD,EAAQE,MAAM,KACxBb,EAAQU,EAAUG,MAAM,KACxBC,EAAK,IAAIV,KACTW,EAAK,IAAIX,KAEXU,EAAGE,SAASJ,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAChCG,EAAGC,SAAShB,EAAM,GAAIA,EAAM,GAAIA,EAAM,IAEtCc,EAAGE,SACDF,EAAGN,WAAaO,EAAGP,WACnBM,EAAGP,aAAeQ,EAAGR,aACrBO,EAAGG,aAAeF,EAAGE,cAGvB,IAAMlB,EAA2B,EAAhBe,EAAGN,YAAkBM,EAAGP,aAAe,GAAK,EAAI,GAEjE,OAAOT,EAASC,EAAUC,EAAM,GAAIA,EAAM,GAAIA,EAAM,K,QCFvCkB,EAZJ,SAAC1D,GACV,OACE,oBAAI2D,UAAU,sEAAd,SACG3D,EAAMqC,YCgCEuB,MApCf,YAA2D,IAA3CrG,EAA0C,EAA1CA,KAAMJ,EAAoC,EAApCA,OAAQ0G,EAA4B,EAA5BA,aAAcC,EAAc,EAAdA,WAiB1C,OACE,mCACE,sBACEH,UAAU,0EACVI,QAAS,kBAlBK,SAAC1E,GACnB,OAAQlC,GACN,IAAK,OACH2G,EAAWzE,GACX,MACF,IAAK,SACHwE,EAAaxE,IAYE2E,CAAYzG,IAF7B,UAIE,qBACE0G,IAAK1G,EAAKuB,OACVoF,IAAK3G,EAAKqB,KAAKuF,cACfR,UAAU,kLAEZ,mBAAGA,UAAU,iEAAb,SACGpG,EAAKqB,aC5BHwF,G,MAAS,WACpB,OACE,qBACET,UAAU,6EACVU,MAAO,CAAEC,WAAY,sBAFvB,SAIE,sBAAKX,UAAU,kEAAf,UACE,sBAAKA,UAAU,2CAAf,UACE,qBAAKA,UAAU,0DACf,qBAAKA,UAAU,0DACf,qBAAKA,UAAU,0DACf,qBAAKA,UAAU,6DAEjB,qBAAKA,UAAU,oDAAf,mCC4EOY,MAtFf,WACE,IAAMlD,EAAYC,KAAKC,aAAaC,QAAQ,cAD1B,EAEkBgD,qBAAW5G,GAAvCN,EAFU,EAEVA,MAAOK,EAFG,EAEHA,QAASyD,EAFN,EAEMA,QAFN,EAGoBqD,mBAAS,IAH7B,mBAGXC,EAHW,KAGEC,EAHF,OAIoBF,mBAAS,IAJ7B,mBAIXG,EAJW,KAIEC,EAJF,OAKUJ,oBAAS,GALnB,mBAKXK,EALW,KAKHC,EALG,KA4BZjB,EAAa,SAACkB,GAAD,OACjB5D,EAAQ4D,EAAQ,QAAQtF,MAAK,kBAAMqF,GAAU,OACzClB,EAAe,SAACmB,GAAD,OACnB5D,EAAQ4D,EAAQ,UAAUtF,MAAK,kBAAMqF,GAAU,OAOjD,OALAE,qBAAU,YA1BS,WACjB,IAAIC,EAAO,GACPzH,EAAO,GAEXH,EAAMoD,SAAQ,SAACQ,GACRA,EAAGrC,QAAQsG,SAASxH,IACvBuH,EAAKvE,KAAKO,GAEZyD,EAAeO,GAEXhE,EAAGrC,QAAQsG,SAASxH,IACtBuD,EAAGnC,SAAS2B,SAAQ,SAACvB,GACfA,IAASkC,GACX5D,EAAKkD,KAAKO,MAIhB2D,EAAepH,MAUjB2H,KAEC,IAGD,mCACGN,EACC,cAAC,EAAD,IAEA,qBAAKnB,UAAU,kBAAf,SACE,sBAAKA,UAAU,uFAAf,UACGe,EAAY9D,OAAS,EACpB,qCACE,cAAC,EAAD,yCACA,qBAAK+C,UAAU,kGAAf,SACGe,EAAYxF,KAAI,SAACC,EAAM8C,GAAP,OACf,8BACE,cAAC,EAAD,CACE1E,KAAM4B,EACNkG,MAAOpD,EACP9E,OAAQ,OACR2G,WAAYA,KALN7B,WAWd,KACH2C,EAAYhE,OAAS,EACpB,sBAAK+C,UAAU,OAAf,UACE,cAAC,EAAD,2CACA,qBAAKA,UAAU,kGAAf,SACGiB,EAAY1F,KAAI,SAACC,EAAM8C,GAAP,OACf,8BACE,cAAC,EAAD,CACE1E,KAAM4B,EACNkG,MAAOpD,EACP9E,OAAQ,SACR0G,aAAcA,KALR5B,WAWd,aC8CDqD,MAzHf,WACE,IAAMC,EAAQvC,EAAS,WAAY,YADjB,EAWdwB,qBAAW5G,GARbuC,EAHgB,EAGhBA,SACA7C,EAJgB,EAIhBA,MACAI,EALgB,EAKhBA,SACAC,EANgB,EAMhBA,QACAqE,EAPgB,EAOhBA,WACAxE,EARgB,EAQhBA,SACA0E,EATgB,EAShBA,YACAE,EAVgB,EAUhBA,aAgBIoD,EAAc,SAACvD,GASnB,OARYvE,EAAS+H,QAAO,SAACC,EAAKxE,GAKhC,OAJIA,IAAOe,GACTyD,EAAI/E,KAAKO,GAGJwE,IACN,KAKCC,EAAc,SAAC1D,GACnB,IAAM2D,EAAgBJ,EAAYvD,GAYlC,OAVcvE,EAASyH,SAASlD,GAC5B2D,EAAchF,SAAWtD,EAAMsD,OAC7B,kEACA,0EACFjD,GACAsE,IAAQtE,EACN,8EAEF,uEAKAkI,EAAe,SAAC1G,EAAM8C,GAY1B,OAXmB9C,EAAKN,QAAQK,KAAI,SAACgC,EAAImE,GAAL,OAClCnE,IAAOe,EACL,qBAEE0B,UAAU,gEAFZ,SAIE,qBAAKA,UAAU,MAAMM,IAAK9E,EAAKL,OAAQoF,IAAK/E,EAAKP,QAH5CyG,GAKL,SAkBR,OAZAJ,qBAAU,WAOR9E,IALOoB,aAAaC,QAAQ,cACxBD,aAAauE,QAAQ,YAAaC,KAAKC,kBAO1C,IAGD,mCACIxI,EAgCA,cAAC,EAAD,IA/BAF,EAAMsD,OAAS,EACb,sBAAK+C,UAAU,oDAAf,UACE,cAAC,EAAD,uBACA,mBAAGA,UAAU,qDAAb,yCAGA,qBAAKA,UAAU,wGAAf,SACG4B,EAAMrG,KAAI,SAACC,EAAM8C,GAAP,OACT,sBAEE8B,QAAS,kBAjFN,SAAC9B,GACIuD,EAAYvD,GAEhBrB,SAAWtD,EAAMsD,QACjCoB,EAAWC,GACXG,GAAa,GACbF,GAAY,KAEZA,GAAY,GACZF,EAAWC,IAwEgBgE,CAAWhE,EAAM,IAChC0B,UAAS,qLAAgLgC,EACvL1D,EAAM,IAJV,UAOG9C,EACD,qBAAKwE,UAAU,kDAAf,SACGjG,EAASyH,SAASlD,EAAM,GACrB3E,EAAM4B,KAAI,SAACC,EAAMkG,GAAP,OACR,8BAAkBQ,EAAa1G,EAAM8C,EAAM,IAAjCoD,MAEZ,SAZDpD,WAmBb,cAAC,EAAD,OC7GKiE,MARf,WACE,OACE,cAAC,EAAD,UACE,cAAC,EAAD,OCKSC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB3G,MAAK,YAAkD,IAA/C4G,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.0ff90f62.chunk.js","sourcesContent":["import {\r\n  GET_USERS,\r\n  GET_BUSY_USERS,\r\n  SET_USER,\r\n  SET_USER_KEYS,\r\n  SET_SELECTED,\r\n  SET_KEYTIME,\r\n} from '../types';\r\n\r\nconst DeliverReducer = (state, action) => {\r\n  const { payload, type } = action;\r\n\r\n  switch (type) {\r\n    case GET_USERS:\r\n      return {\r\n        ...state,\r\n        users: payload,\r\n      };\r\n\r\n    case SET_USER:\r\n      return {\r\n        ...state,\r\n        user: payload,\r\n      };\r\n\r\n    case SET_SELECTED:\r\n      return {\r\n        ...state,\r\n        selected: payload,\r\n      };\r\n\r\n    case GET_BUSY_USERS:\r\n      return {\r\n        ...state,\r\n        busy: payload,\r\n      };\r\n\r\n    case SET_USER_KEYS:\r\n      return {\r\n        ...state,\r\n        userKeys: payload,\r\n      };\r\n\r\n    case SET_KEYTIME:\r\n      return {\r\n        ...state,\r\n        keyTask: payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default DeliverReducer;\r\n","export const GET_USERS = 'GET_USERS';\r\nexport const SET_USER = 'SET_USER';\r\nexport const GET_FREE_USERS = 'GET_FREE_USERS';\r\nexport const GET_BUSY_USERS = 'GET_BUSY_USERS';\r\nexport const SET_SELECTED = 'SET_SELECTED';\r\nexport const SET_USER_KEYS = 'SET_USER_KEYS';\r\nexport const SET_KEYTIME = 'SET_KEYTIME';\r\n","import { createContext } from 'react';\r\n\r\nconst DeliverContext = createContext();\r\n\r\nexport default DeliverContext;","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\r\n};\r\n\r\n// eslint-disable-next-line\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebase.firestore();\r\n\r\nexport default db;\r\n","export const delivers = [\r\n  {\r\n    name: 'Frank',\r\n    segment: [],\r\n    avatar:\r\n      'https://firebasestorage.googleapis.com/v0/b/hr-devgroup.appspot.com/o/dev-test-img%2Ffrank.png?alt=media&token=e280d985-39f0-445d-83bf-b428a7747a25',\r\n    takenFor: [],\r\n  },\r\n  {\r\n    name: 'Bruce',\r\n    segment: [],\r\n    avatar:\r\n      'https://firebasestorage.googleapis.com/v0/b/hr-devgroup.appspot.com/o/dev-test-img%2Fbruce.png?alt=media&token=3ba56e4f-5ab1-4f67-9774-5aeee5d933cd',\r\n    takenFor: [],\r\n  },\r\n  {\r\n    name: 'Sonic',\r\n    segment: [],\r\n    avatar:\r\n      'https://firebasestorage.googleapis.com/v0/b/hr-devgroup.appspot.com/o/dev-test-img%2Fsonic.png?alt=media&token=1ab16af8-7e41-4a91-af39-3bd6cf34f2d1',\r\n    takenFor: [],\r\n  },\r\n  {\r\n    name: 'Peter',\r\n    segment: [],\r\n    avatar:\r\n      'https://firebasestorage.googleapis.com/v0/b/hr-devgroup.appspot.com/o/dev-test-img%2Fpeter.png?alt=media&token=1afef1fb-e2a1-4de2-9613-cf81705504dc',\r\n    takenFor: [],\r\n  },\r\n  {\r\n    name: 'Wanda',\r\n    segment: [],\r\n    avatar:\r\n      'https://firebasestorage.googleapis.com/v0/b/hr-devgroup.appspot.com/o/dev-test-img%2Fwanda.png?alt=media&token=5ff7655d-6fde-4d76-be58-872f21d5043e',\r\n    takenFor: [],\r\n  },\r\n  {\r\n    name: 'Clark',\r\n    segment: [],\r\n    avatar:\r\n      'https://firebasestorage.googleapis.com/v0/b/hr-devgroup.appspot.com/o/dev-test-img%2Fclark.png?alt=media&token=308ef229-7921-4199-9bb7-082604eaf16c',\r\n    takenFor: [],\r\n  },\r\n  {\r\n    name: 'Scarlet',\r\n    segment: [],\r\n    avatar:\r\n      'https://firebasestorage.googleapis.com/v0/b/hr-devgroup.appspot.com/o/dev-test-img%2Fscarlet.png?alt=media&token=01fc3339-9215-4785-acf1-8d8b301572b4',\r\n    takenFor: [],\r\n  },\r\n  {\r\n    name: 'Toreto',\r\n    segment: [],\r\n    avatar:\r\n      'https://firebasestorage.googleapis.com/v0/b/hr-devgroup.appspot.com/o/dev-test-img%2Ftoreto.png?alt=media&token=de644b3d-123c-4560-918f-3d4dd4eec4b4',\r\n    takenFor: [],\r\n  },\r\n];\r\n","import db from '../firebase.config';\r\nimport { delivers } from './delivers';\r\n\r\nconst migrate = async () => {\r\n  delivers.map((item) => saveDeliver(item));\r\n};\r\n\r\nconst saveDeliver = async (data) => {\r\n  const newDeliverRef = db.collection('delivers').doc();\r\n\r\n  await newDeliverRef\r\n    .set(data)\r\n    .then(() => {\r\n      console.log('Document successfully written!');\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error writing document: ', error);\r\n    });\r\n};\r\n\r\nexport default migrate;\r\n","import React, { useReducer } from 'react';\r\nimport DeliverReducer from './DeliverReducer';\r\nimport DeliverContext from './DeliverContext';\r\nimport db from '../../firebase.config';\r\nimport migrate from '../../resources/migrations';\r\n\r\nconst DeliverState = (props) => {\r\n  const initialState = {\r\n    users: [],\r\n    user: {},\r\n    keyTask: null,\r\n    selected: false,\r\n    userKeys: [],\r\n    busy: false,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(DeliverReducer, initialState);\r\n\r\n  const getUsers = async () => {\r\n    await db\r\n      .collection('delivers')\r\n      .get()\r\n      .then((query) => {\r\n        setUsers(query);\r\n      })\r\n\r\n      .catch((e) => console.error('error', e));\r\n  };\r\n\r\n  const setUsers = async (data) => {\r\n    let users = [];\r\n    let keys = [];\r\n\r\n    data.empty\r\n      ? migrate()\r\n          .then(() => getUsers())\r\n          .catch((e) => console.error(e))\r\n      : data.forEach((item) => {\r\n          item.data().segment.forEach((item) => keys.push(item));\r\n\r\n          users.push(item.data());\r\n        });\r\n\r\n    if (users.length > 0) {\r\n      dispatch({\r\n        type: 'GET_USERS',\r\n        payload: users,\r\n      });\r\n      dispatch({\r\n        type: 'SET_USER_KEYS',\r\n        payload: keys,\r\n      });\r\n      dispatch({\r\n        type: 'SET_SELECTED',\r\n        payload: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  const getBusyUsers = (val) => {\r\n    dispatch({\r\n      type: 'GET_BUSY_USERS',\r\n      payload: val,\r\n    });\r\n  };\r\n\r\n  const setSelected = (val) => {\r\n    dispatch({\r\n      type: 'SET_SELECTED',\r\n      payload: val,\r\n    });\r\n  };\r\n\r\n  const setTaskkey = (key) => {\r\n    dispatch({\r\n      type: 'SET_KEYTIME',\r\n      payload: key,\r\n    });\r\n  };\r\n\r\n  const removeUserId = (arr, id) => {\r\n    let indexes = null;\r\n    indexes = arr.filter((el) => (el === id ? el : null));\r\n\r\n    indexes.pop();\r\n\r\n    return indexes;\r\n  };\r\n\r\n  const setUser = async (data, action) => {\r\n    const localUser = atob(localStorage.getItem('userToken'));\r\n\r\n    switch (action) {\r\n      case 'save':\r\n        data.takenFor.push(localUser);\r\n        data.segment.push(state.keyTask);\r\n        break;\r\n\r\n      case 'remove':\r\n        data.segment = data.segment.filter((el) => el !== state.keyTask);\r\n        data.takenFor = removeUserId(data.takenFor, localUser);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    await db\r\n      .collection('delivers')\r\n      .where('name', '==', data.name)\r\n      .get()\r\n      .then((querySnapshot) =>\r\n        querySnapshot.forEach((doc) => saveUser(doc.id, data))\r\n      );\r\n  };\r\n\r\n  const saveUser = async (id, data) => {\r\n    const docRef = db.collection('delivers').doc(id);\r\n\r\n    await docRef\r\n      .update(data)\r\n      .then(() => getUsers())\r\n      .then(() =>\r\n        dispatch({\r\n          type: 'SET_SELECTED',\r\n          payload: false,\r\n        })\r\n      )\r\n      .catch((e) => console.error(e));\r\n  };\r\n\r\n  return (\r\n    <DeliverContext.Provider\r\n      value={{\r\n        users: state.users,\r\n        user: state.user,\r\n        selected: state.selected,\r\n        busy: state.busy,\r\n        keyTask: state.keyTask,\r\n        userKeys: state.userKeys,\r\n        getUsers,\r\n        setTaskkey,\r\n        setUser,\r\n        setSelected,\r\n        getBusyUsers,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </DeliverContext.Provider>\r\n  );\r\n};\r\n\r\nexport default DeliverState;\r\n","const getHours = (startTime, endTime) => {\r\n  const end = endTime.split(':'),\r\n    start = startTime.split(':'),\r\n    t1 = new Date(),\r\n    t2 = new Date();\r\n\r\n  t1.setHours(end[0], end[1], end[2]);\r\n  t2.setHours(start[0], start[1], start[2]);\r\n\r\n  t1.setHours(\r\n    t1.getHours() - t2.getHours(),\r\n    t1.getMinutes() - t2.getMinutes(),\r\n    t1.getSeconds() - t2.getSeconds()\r\n  );\r\n\r\n  const segments = t1.getHours() * 2 + (t1.getMinutes() > 30 ? 1 : 0);\r\n\r\n  return setTimes(segments, start[0], start[1], start[2]);\r\n};\r\n\r\nconst setTimes = (segments, start, mins, secs) => {\r\n  let arr = [];\r\n\r\n  let now = new Date(`2021-01-01T${start}:${mins}:${secs}`);\r\n\r\n  for (let i = 0; i < segments; i++) {\r\n    i === 0\r\n      ? now.setMinutes(now.getMinutes())\r\n      : now.setMinutes(now.getMinutes() + 30);\r\n\r\n    arr.push(now.getHours() + ':' + ('00' + now.getMinutes()).slice(-2));\r\n  }\r\n\r\n  return arr;\r\n};\r\n\r\nexport default getHours;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst H1 = (props) => {\r\n  return (\r\n    <h1 className=\"text-3xl text-gray-600 text-center font-bold mt-6 md:mt-0 uppercase\">\r\n      {props.children}\r\n    </h1>\r\n  );\r\n};\r\n\r\nH1.propTypes = {\r\n  children: PropTypes.string,\r\n};\r\n\r\nexport default H1;\r\n","import React from 'react';\r\n\r\nfunction User({ user, action, removeDriver, saveDriver }) {\r\n  // const { setUser } = useContext(DeliverContext);\r\n\r\n  const handleClick = (data) => {\r\n    switch (action) {\r\n      case 'save':\r\n        saveDriver(data);\r\n        break;\r\n      case 'remove':\r\n        removeDriver(data);\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"flex w-40 h-16 md:h-20 md:m-2 justify-start items-center cursor-pointer\"\r\n        onClick={() => handleClick(user)}\r\n      >\r\n        <img\r\n          src={user.avatar}\r\n          alt={user.name.toUpperCase()}\r\n          className=\"w-12 h-12 md:w-20 md:h-20 object-contain rounded-full shadow-lg border-2 bg-gray-50 border-gray-100 transition transform duration-300 delay-75 hover:scale-105 hover:border-8\"\r\n        />\r\n        <p className=\"ml-2 text-center text-lg font-semibold text-gray-600 uppercase\">\r\n          {user.name}\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport './Loader.css';\r\n\r\nexport const Loader = () => {\r\n  return (\r\n    <div\r\n      className=\"fixed top-0 left-0 z-50 w-screen h-screen flex items-center justify-center\"\r\n      style={{ background: 'rgba(0, 0, 0, 0.3)' }}\r\n    >\r\n      <div className=\"bg-white border py-2 px-5 rounded-lg flex items-center flex-col\">\r\n        <div className=\"loader-dots block relative w-20 h-5 mt-2\">\r\n          <div className=\"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500\"></div>\r\n          <div className=\"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500\"></div>\r\n          <div className=\"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500\"></div>\r\n          <div className=\"absolute top-0 mt-1 w-3 h-3 rounded-full bg-green-500\"></div>\r\n        </div>\r\n        <div className=\"text-gray-500 text-xs font-light mt-2 text-center\">\r\n          Please wait...\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport DeliverContext from '../context/deliver/DeliverContext';\r\nimport User from './User';\r\nimport H1 from './H1';\r\nimport { Loader } from './Loader';\r\n\r\nfunction UserList() {\r\n  const localUser = atob(localStorage.getItem('userToken'));\r\n  const { users, keyTask, setUser } = useContext(DeliverContext);\r\n  const [freeDrivers, setFreeDrivers] = useState([]);\r\n  const [busyDrivers, setBusyDrivers] = useState([]);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const getDrivers = () => {\r\n    let free = [];\r\n    let busy = [];\r\n\r\n    users.forEach((el) => {\r\n      if (!el.segment.includes(keyTask)) {\r\n        free.push(el);\r\n      }\r\n      setFreeDrivers(free);\r\n\r\n      if (el.segment.includes(keyTask)) {\r\n        el.takenFor.forEach((item) => {\r\n          if (item === localUser) {\r\n            busy.push(el);\r\n          }\r\n        });\r\n      }\r\n      setBusyDrivers(busy);\r\n    });\r\n  };\r\n\r\n  const saveDriver = (driver) =>\r\n    setUser(driver, 'save').then(() => setSaving(true));\r\n  const removeDriver = (driver) =>\r\n    setUser(driver, 'remove').then(() => setSaving(true));\r\n\r\n  useEffect(() => {\r\n    getDrivers();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {saving ? (\r\n        <Loader />\r\n      ) : (\r\n        <div className=\"w-11/12 mx-auto\">\r\n          <div className=\"px-4 transform md:absolute left-1/2 top-1/2 md:-translate-y-1/2  md:-translate-x-1/2\">\r\n            {freeDrivers.length > 0 ? (\r\n              <>\r\n                <H1>Select your driver to save</H1>\r\n                <div className=\"w-full flex flex-col items-center justify-center mt-3 md:w-5/6 mx-auto md:flex-row md:flex-wrap\">\r\n                  {freeDrivers.map((item, key) => (\r\n                    <div key={key}>\r\n                      <User\r\n                        user={item}\r\n                        index={key}\r\n                        action={'save'}\r\n                        saveDriver={saveDriver}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </>\r\n            ) : null}\r\n            {busyDrivers.length > 0 ? (\r\n              <div className=\"mt-6\">\r\n                <H1>Select your driver to remove</H1>\r\n                <div className=\"w-full flex flex-col items-center justify-center mt-3 md:w-5/6 mx-auto md:flex-row md:flex-wrap\">\r\n                  {busyDrivers.map((item, key) => (\r\n                    <div key={key}>\r\n                      <User\r\n                        user={item}\r\n                        index={key}\r\n                        action={'remove'}\r\n                        removeDriver={removeDriver}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default UserList;\r\n","import React, { useContext, useEffect } from 'react';\r\nimport DeliverContext from '../context/deliver/DeliverContext';\r\nimport getHours from '../resources/getHours';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport H1 from './H1';\r\nimport UserList from './UserList';\r\nimport { Loader } from './Loader';\r\n\r\nfunction Schedule() {\r\n  const times = getHours('08:00:00', '20:00:00');\r\n  const {\r\n    getUsers,\r\n    users,\r\n    userKeys,\r\n    keyTask,\r\n    setTaskkey,\r\n    selected,\r\n    setSelected,\r\n    getBusyUsers,\r\n  } = useContext(DeliverContext);\r\n\r\n  const handleTask = (key) => {\r\n    const filteredUsers = filterUsers(key);\r\n\r\n    if (filteredUsers.length === users.length) {\r\n      setTaskkey(key);\r\n      getBusyUsers(true);\r\n      setSelected(true);\r\n    } else {\r\n      setSelected(true);\r\n      setTaskkey(key);\r\n    }\r\n  };\r\n\r\n  const filterUsers = (key) => {\r\n    const res = userKeys.reduce((acc, el) => {\r\n      if (el === key) {\r\n        acc.push(el);\r\n      }\r\n\r\n      return acc;\r\n    }, []);\r\n\r\n    return res;\r\n  };\r\n\r\n  const handleColor = (key) => {\r\n    const filteredUsers = filterUsers(key);\r\n\r\n    const color = userKeys.includes(key)\r\n      ? filteredUsers.length === users.length\r\n        ? 'bg-red-400 border-red-500 hover:bg-red-500 hover:border-red-600'\r\n        : 'bg-green-400 border-green-500 hover:bg-green-500 hover:border-green-600'\r\n      : keyTask\r\n      ? key === keyTask\r\n        ? 'bg-purple-400 border-purple-500 hover:bg-purple-500 hover:border-purple-600'\r\n        : 'bg-blue-400 border-blue-500 hover:bg-blue-500 hover:border-blue-600'\r\n      : 'bg-blue-400 border-blue-500 hover:bg-blue-500 hover:border-blue-600';\r\n\r\n    return color;\r\n  };\r\n\r\n  const mountAvatars = (item, key) => {\r\n    const userAvatar = item.segment.map((el, index) =>\r\n      el === key ? (\r\n        <div\r\n          key={index}\r\n          className=\"flex justify-start items-center mr-1 object-fill rounded-full\"\r\n        >\r\n          <img className=\"h-5\" src={item.avatar} alt={item.name} />\r\n        </div>\r\n      ) : null\r\n    );\r\n\r\n    return userAvatar;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const saveToken = () => {\r\n      if (!localStorage.getItem('userToken')) {\r\n        localStorage.setItem('userToken', btoa(uuidv4()));\r\n      }\r\n    };\r\n\r\n    getUsers();\r\n    saveToken();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {!selected ? (\r\n        users.length > 0 ? (\r\n          <div className=\"md:absolute top-1/2 transform md:-translate-y-1/2\">\r\n            <H1>Schedule</H1>\r\n            <p className=\"text-center text-lg font-medium text-gray-700 py-2\">\r\n              Select your time segment...\r\n            </p>\r\n            <div className=\"w-11/12 mx-auto flex flex-col items-center md:max-h-screen md:justify-center md:flex-row md:flex-wrap\">\r\n              {times.map((item, key) => (\r\n                <div\r\n                  key={key}\r\n                  onClick={() => handleTask(key + 1)}\r\n                  className={`relative w-72 m-2 py-2 text-center text-lg text-white font-semibold rounded-lg border shadow-xl cursor-pointer transform transition hover:scale-105 duration-300 delay-150 ${handleColor(\r\n                    key + 1\r\n                  )}`}\r\n                >\r\n                  {item}\r\n                  <div className=\"absolute flex -bottom-1 -right-1 cursor-default\">\r\n                    {userKeys.includes(key + 1)\r\n                      ? users.map((item, index) => (\r\n                          <div key={index}>{mountAvatars(item, key + 1)}</div>\r\n                        ))\r\n                      : null}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Loader />\r\n        )\r\n      ) : (\r\n        <UserList />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Schedule;\r\n","import React from 'react';\nimport DeliverState from './context/deliver/DeliverState';\nimport Schedule from './components/Schedule';\n\nfunction App() {\n  return (\n    <DeliverState>\n      <Schedule />\n    </DeliverState>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}